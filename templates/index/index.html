{{template "base/header.html" }}

<body class="mdui-drawer-body-left mdui-theme-primary-deep-orange">
	{{ template "base/drawer.html" .}}
	<div class="mdui-container-fluid" style="padding-left: 0px;padding-right: 0px;">
		{{ template "base/toolbar.html" .}}
		<div class="mdui-center" style="padding-top: 56px;max-width: 800px">
			{{ if eq .feedDrawerTab "home"}}
			{{ template "pages/allItemList.html" .}}
			{{ end }}
			{{ if eq .feedDrawerTab "add"}}
			{{ template "pages/addChannelPage.html" .}}
			{{ end }}
			{{ if eq .feedDrawerTab "search"}}

			{{ end }}
		</div>
	</div>

	<!-- MDUI JavaScript -->
	<script src="https://cdn.jsdelivr.net/npm/mdui@1.0.2/dist/js/mdui.min.js"></script>
	<script src="/public/js/common.js"></script>
	<script src="/public/js/verify.js"></script>
	<script src="/public/js/feed.js"></script>
	<script>
		let containerInitStatus = {
			"home": 0,
			"sub": 0,
			"search": 0,
			"fav": 0,
		}

		let userInfo = getUserInfo();
		if (userInfo !== null && userInfo !== undefined) {
			if (userInfo.username !== '') {
				$('#drawer-username').text(userInfo.username);
			} else if (userInfo.mobile !== '') {
				$('#drawer-username').text(userInfo.mobile);
			} else if (condition.email !== '') {
				$('#drawer-username').text(userInfo.email);
			}
		}

		getSubChannelListTmpl()

		function toItemSourcePage(link) {
			window.open(link, '_blank')
		}

		function toFeedChannelPage(channelId) {
			window.location.href = '/view/feed/channel/info/' + channelId + '/' + getUserInfo().uid
		}
	</script>
	{{ if eq .feedDrawerTab "home"}}
	<script>
		loadFeedItemByUserID()
	</script>
	{{end}}
</body>

</html>